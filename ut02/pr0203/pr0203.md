# PR0203: Conexión remota con SSH entre redes
## Entorno de trabajo
### En esta práctica tienes que preparar un entorno con las siguientes características:

- Necesitas 3 máquinas virtuales cuyo nombres de equipo serán: SERVER-A, SERVER-B y SERVER-C
- Tendrás una red solo-anfitrión que se conectará a SERVER-A
- También necesitarás dos redes internas: 10.20.0.0/16 y 10.30.0.0/16
- Las máquinas SERVER-A y SERVER-B estarán conectadas a la primera red, mientras que SERVER-B (que tendrá 2 adaptadores de red) y SERVER-C estarán conectadas a la segunda red.
- El equipo SERVER-A tendrá un usuario con tu nombre
- Los equipos SERVER-B y SERVER-C tendrán un usuario llamado sysadmin.

![](imagenes/p4.1.png)

Utilizaremos el siguiente comando para configurar 

```bash
sudo nano /etc/netplan/50-cloud-init.yaml
```

Añadiremos lo siguiente en los extremos

![](imagenes/p4.4.png)

![](imagenes/p4.3.png)

Para la maquina del medio

![](imagenes/p4.2.png)

Para implantarlo usaremos el siguiente comando

```bash
sudo netplan apply
```

Como resultado final al realizar ip a nos aparecera la configuracion que hemos realizado antes

![](imagenes/p4.5.png)

Crearemos el usuario sysadmin con el comando **sudo adduser sysadmin**
![](imagenes/p4.6.png)


### Explica qué contienen y para qué sirven los siguientes ficheros relacionados con SSH:
~/.ssh/id_rsa y ~/.ssh/id_rsa.pub

~/.ssh/authorized_keys

~/.ssh/known_hosts

/etc/ssh/sshd_config

/var/log/auth.log

/etc/hosts.allow y /etc/hosts/deny
